<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D Y L I</title>
    
    <!-- Include your CSS files -->
    <link rel="stylesheet" href="css/bootstrap.min.css"> <!-- Assuming you use bootstrap for your styling -->
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/aos.css">
    <link rel="stylesheet" href="css/tooplate-gymso-style.css"> <!-- Custom styling -->
    <link rel="icon" href="images/favicon-32x32.png" type="image/png">

   <!-- Add Wavesurfer.js library for waveform audio players -->
   <script src="https://unpkg.com/wavesurfer.js@6"></script>
    
     <!-- Mobile Welcome Text Size Fix -->
     <style>
        @media (max-width: 767px) {
            .welcome-text {
                font-size: 100px !important; /* 20% increase from 90px = 108px */
                font-weight: 800;
                line-height: 1.1; /* Slightly adjusted for bigger text */
                margin: 35px 0;
                padding: 0;
            }
            
            /* Make sure mobile devices don't show horizontal scrollbars */
            html, body {
                overflow-x: hidden;
                width: 100%;
            }
            
            /* Hero section adjustments for larger text */
            .hero {
                min-height: 90vh; /* Increased to accommodate the larger text */
                padding: 30px 0;
            }
            
            /* Make the Loopkit title 3 times bigger on mobile only (1.2 Ã— 2.5 = 3) */
            .hero-title {
                font-size: 300% !important;
                line-height: 1.2; /* Adjusted line height for better readability */
            }
            
            /* Mobile layout adjustments for the image and buy button */
            .mobile-image-container {
                order: 1;
                margin-bottom: 30px;
                text-align: center;
                width: 100%;
            }
            
            .mobile-description-container {
                order: 2;
            }
            
            .mobile-row {
                display: flex;
                flex-direction: column;
            }
            
            .mobile-image-container img {
                max-width: 80%;
                margin: 0 auto;
            }
        }

        @media (max-width: 767px) {
            .mobile-image-container img {
                display: none;
            }
        }
        
        /* Waveform Audio Player Styling */
        .waveform-container {
            width: 100%;
            background-color: transparent;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
        }
        
        .waveform {
            height: 80px;
            width: 100%;
            cursor: pointer;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0;
        }
        
        /* Add loading indicator styling */
        .loading-indicator {
            text-align: center;
            color: #8d8d8d;
            margin: 10px 0;
            font-size: 12px;
        }
        
        /* Add error message styling */
        .error-message {
            color: #ff5a5a;
            font-size: 12px;
            margin-top: 5px;
            text-align: center;
        }
    </style>
</head>
<body data-spy="scroll" data-target="#navbarNav" data-offset="50">

   <!-- MENU BAR -->
   <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container">

        <a class="white-text" href="index.html">dylieasy</a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-lg-auto">
                <li class="nav-item">
                    <a href="#home" class="nav-link smoothScroll">Home</a>
                </li>

              

                

                

            </ul>
            <ul class="social-icon ml-lg-3">
               <!-- Instagram Icon -->
<li><a href="https://www.instagram.com/dyli.easy/" class="fa fa-instagram" target="_blank"></a></li>

            
               <!-- Mail Icon (Click to Copy) -->
<li style="position: relative;">
    <a href="javascript:void(0);" class="fa fa-envelope" onclick="copyEmail()" title="Click to copy email"></a>
    <span id="copied-text" style="display: none; position: absolute; top: 30px; left: 50%; transform: translateX(-50%); font-size: 12px; color: white; background: black; padding: 3px 3px; border-radius: 4px; white-space: nowrap;">Mail Copied</span>
</li>

            </ul>
            
            <script>
                function copyEmail() {
                    const email = "dyli.prod@gmail.com"; // Change this to your actual email
                    navigator.clipboard.writeText(email).then(() => {
                        const copiedText = document.getElementById("copied-text");
                        copiedText.style.display = "block";
            
                        setTimeout(() => {
                            copiedText.style.display = "none";
                        }, 1000); // Hides the text after 1.5 seconds
                    }).catch(err => {
                        console.error("Failed to copy email: ", err);
                    });
                }
            </script>
            
            
        </div>

    </div>


</nav>

  <!-- Hero Section for Maestro -->
  <section class="hero d-flex flex-column justify-content-center align-items-center" id="home" style="background-image: url('images/lunarity-background.jpg'); background-size: cover; background-position: center; height: 300px; text-align: center;">
    <div class="bg-overlay"></div>
    <div class="container">
        <h1 class="hero-title" data-aos="fade-up">Loopkit vol.2 Lunarity</h1>
        <p class="hero-description" data-aos="fade-up" data-aos-delay="500">Heavy, Emotional, Cinematic</p>
    </div>
</section>



<section class="details-section">
    <div class="container">
        <div class="row">
            <!-- Description on the left -->
            <div class="col-lg-6 col-md-6 col-12" data-aos="fade-up">
                <h2>Details about Loopkit vol.2 Lunarity</h2>

                <p>
                    This pack contains 15 placement-ready loops in the style of Playboy Carti, Future, UFO361. 
                    Perfect for dark, gritty, atmospheric, and synthetic beats.
                </p>
                
                <ul data-aos="fade-up" data-aos-delay="400">
    <li style="font-weight: bold;">15 high-quality, placement-ready loops</li>
    <li style="font-weight: bold;">Perfect for dark synth trap</li> 
    <li style="font-weight: bold;">Compatible with all DAWs</li>
    <li style="font-weight: bold;">Key and BPM labeled</li>
    <li style="font-weight: bold;">Mixed, ready to use without any tweaking.</li>
    <li style="font-weight: bold;">Each loop comes with separated stems for easy customization</li>
</ul>

                

                <p style="margin-top: 40px;">All sounds and samples in this kit are royalty free under 1,000,000 streams or unless major placement.</p>


                
 <!-- Add to Cart Button below the description -->
<div class="text-center" style="margin-top: 70px;">
    <button class="btn custom-btn bg-color mt-3" style="font-size: 16px; padding: 13px 25px;" data-toggle="modal" data-target="#membershipForm">NOTIFY ME</button>
</div>

            </div>

            <!-- Image on the right -->
            <div class="col-lg-6 col-md-6 col-12 d-flex justify-content-center align-items-center mobile-image-container" >
                <img src="images/lunarity-art.jpg" alt="Loopkit Image" class="img-fluid rounded-corner" />
            </div>
        </div>
    </div>
</section>







<!-- AUDIO PREVIEWS Section -->
<section class="audio-previews section" id="audio-previews" style="background-color: #171819; color: white;">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-12 text-center mb-5">
                <h2>Preview the loops</h2>
                <p data-aos="fade-up" data-aos-delay="400">Check if they match your vibe</p>
            </div>

            <!-- Audio Loop 1 -->
            <div class="col-lg-4 col-md-6 col-12" data-aos="fade-up" data-aos-delay="600">
                <div class="waveform-container">
                
                    <div id="waveform1" class="waveform"></div>
                    <div id="loading1" class="loading-indicator">Loading audio...</div>
                    <div id="error1" class="error-message" style="display: none;"></div>
                    <p style="margin-top: 10px; color: #cccccc; font-size: 14px; font-weight: bold;">LOOP1</p>
                </div>
            </div>

            <!-- Audio Loop 2 -->
            <div class="col-lg-4 col-md-6 col-12" data-aos="fade-up" data-aos-delay="700">
                <div class="waveform-container">
                  
                    <div id="waveform2" class="waveform"></div>
                    <div id="loading2" class="loading-indicator">Loading audio...</div>
                    <div id="error2" class="error-message" style="display: none;"></div>
                    <p style="margin-top: 10px; color: #cccccc; font-size: 14px; font-weight: bold;">LOOP2</p>
                </div>
            </div>

            <!-- Audio Loop 3 -->
            <div class="col-lg-4 col-md-6 col-12" data-aos="fade-up" data-aos-delay="800">
                <div class="waveform-container">
                 
                    <div id="waveform3" class="waveform"></div>
                    <div id="loading3" class="loading-indicator">Loading audio...</div>
                    <div id="error3" class="error-message" style="display: none;"></div>
                    <p style="margin-top: 10px; color: #cccccc; font-size: 14px; font-weight: bold;">LOOP1</p>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
document.addEventListener("DOMContentLoaded", function () {
    // Audio tracks data - Try with both MP3 and WAV fallbacks
    const audioTracks = [
        {
            id: 'waveform1',
            url: 'audio/loop1lunarity.mp3',
            fallbackUrl: 'audio/loop1lunarity.wav', // Fallback to WAV if MP3 fails
            loadingId: 'loading1',
            errorId: 'error1'
        },
        {
            id: 'waveform2',
            url: 'audio/loop2lunarity.mp3',
            fallbackUrl: 'audio/loop2lunarity.wav', 
            loadingId: 'loading2',
            errorId: 'error2'
        },
        {
            id: 'waveform3',
            url: 'audio/loop3lunarity.mp3',
            fallbackUrl: 'audio/loop3lunarity.wav',
            loadingId: 'loading3',
            errorId: 'error3'
        }
    ];
    
    // Store wavesurfer instances
    const waveSurfers = [];
    
    // Check if audio files exist before trying to load them
    function checkAudioExists(url) {
        return new Promise((resolve, reject) => {
            const req = new XMLHttpRequest();
            req.open('HEAD', url, true);
            req.onreadystatechange = function() {
                if (req.readyState === 4) {
                    if (req.status === 200) {
                        resolve(true);
                    } else {
                        resolve(false);
                    }
                }
            };
            req.onerror = function() {
                resolve(false);
            };
            req.send();
        });
    }
    
    // Initialize wavesurfer for each track
    async function initWavesurfer(track, index) {
        // Show loading indicator
        const loadingIndicator = document.getElementById(track.loadingId);
        const errorMessage = document.getElementById(track.errorId);
        
        console.log(`Initializing wavesurfer for ${track.id} with URL: ${track.url}`);
        
        try {
            // Check if primary audio file exists
            let audioExists = await checkAudioExists(track.url);
            let audioUrl = track.url;
            
            // If primary doesn't exist, try fallback
            if (!audioExists && track.fallbackUrl) {
                console.log(`Primary audio file ${track.url} not found, trying fallback ${track.fallbackUrl}`);
                audioExists = await checkAudioExists(track.fallbackUrl);
                if (audioExists) {
                    audioUrl = track.fallbackUrl;
                }
            }
            
            if (!audioExists) {
                throw new Error(`Audio file not found: ${track.url}`);
            }
            
            const wavesurfer = WaveSurfer.create({
                container: `#${track.id}`,
                waveColor: '#8d8d8d',
                progressColor: '#f13a11',
                cursorColor: 'transparent',
                barWidth: 2,
                barRadius: 3,
                barGap: 2,
                height: 80,
                responsive: true,
                normalize: true,
                backend: 'WebAudio',
                interact: false  // Disable the default click behavior that seeks to position
            });
            
            waveSurfers[index] = wavesurfer;
            
            // Log load start
            console.log(`Starting to load audio for ${track.id} using URL: ${audioUrl}`);
            
            wavesurfer.on('error', function(err) {
                console.error(`Error loading audio ${audioUrl}:`, err);
                loadingIndicator.style.display = 'none';
                errorMessage.textContent = 'Could not load audio file';
                errorMessage.style.display = 'block';
                
                // Try with a different audio format as a last resort
                const extensionMatch = audioUrl.match(/\.(mp3|wav|ogg)$/i);
                if (extensionMatch) {
                    const currentExtension = extensionMatch[1].toLowerCase();
                    let alternativeUrl;
                    
                    if (currentExtension === 'mp3') {
                        alternativeUrl = audioUrl.replace(/\.mp3$/i, '.wav');
                    } else if (currentExtension === 'wav') {
                        alternativeUrl = audioUrl.replace(/\.wav$/i, '.mp3');
                    }
                    
                    if (alternativeUrl) {
                        console.log(`Trying alternative format: ${alternativeUrl}`);
                        wavesurfer.load(alternativeUrl);
                    }
                }
            });
            
            // Update duration when audio is ready
            wavesurfer.on('ready', function() {
                console.log(`Audio for ${track.id} loaded successfully`);
                loadingIndicator.style.display = 'none';
                errorMessage.style.display = 'none';
            });
            
            // Load the audio file
            wavesurfer.load(audioUrl);
            
            // Click on waveform to play/pause only, without seeking
            document.querySelector(`#${track.id}`).addEventListener('click', function(e) {
                // Only allow clicking when audio is loaded
                if (!wavesurfer.isReady) {
                    console.log(`Audio ${track.id} not ready yet`);
                    return;
                }
                
                // Prevent default waveform click behavior
                e.preventDefault();
                e.stopPropagation();
                
                pauseAllExcept(index);
                wavesurfer.playPause();
            });
            
        } catch (error) {
            console.error(`Error creating wavesurfer for ${track.id}:`, error);
            loadingIndicator.style.display = 'none';
            errorMessage.textContent = error.message || 'Could not initialize audio player';
            errorMessage.style.display = 'block';
        }
    }
    
    // Initialize all wavesurfers one by one
    audioTracks.forEach((track, index) => {
        initWavesurfer(track, index);
    });
    
    // Function to pause all waveforms except one
    function pauseAllExcept(exceptIndex) {
        waveSurfers.forEach((ws, i) => {
            if (ws && ws.isReady && i !== exceptIndex && ws.isPlaying()) {
                ws.pause();
            }
        });
    }
});
</script>


 <!-- FOOTER -->
<footer class="site-footer">
    <div class="container">
        <div class="row justify-content-center">
        
            <!-- Copyright Section (Centered) -->
            <div class="col-lg-4 col-md-5 text-center">
                <p class="copyright-text"> dyli.easy</p>
            </div>

            <!-- Contact Section (Centered) -->
            <div class="col-lg-4 col-md-5 text-center">
                <p>
                    <i class="fa fa-envelope-o mr-1"></i>
                    <a href="mailto:your-email@example.com">dyli.prod@gmail.com</a>
                </p>
            </div>

        </div>
    </div>
</footer>

<!-- MODAL -->
<div class="modal fade" id="membershipForm" tabindex="-1" role="dialog" aria-labelledby="membershipFormLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="membershipFormLabel">Sign up</h2>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form class="membership-form webform" id="signupForm">
                    <input type="text" class="form-control" id="name" name="cf-name" placeholder="Name" required>
                    <input type="email" class="form-control" id="email" name="cf-email" placeholder="Email" required>
                    <input type="text" class="form-control" name="cf-instagram" placeholder="Instagram @ (optional)">
                    <button type="submit" class="form-control" id="submit-button">Submit</button>
                    <div id="form-message" class="mt-3" style="display: none;"></div>
                    <p class="text-muted small mt-3">By sharing your email, you agree to receive updates and exclusive offers from us.</p>
                </form>
            </div>
        </div>
    </div>
</div>

    <!-- SCRIPTS -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/smoothscroll.js"></script>
    <script src="js/custom.js"></script>

    <!-- Producer Counter and Modal Functionality -->
    <script>
    // Replace this with your actual API Gateway URL
    const API_URL = "https://j7ddpxwak4.execute-api.eu-north-1.amazonaws.com/prod";
    
    // Wait for DOM to be ready
    document.addEventListener('DOMContentLoaded', function() {
        // Set up form submission handler for signup form
        const signupForm = document.getElementById("signupForm");
        if (signupForm) {
            signupForm.addEventListener("submit", function(event) {
                event.preventDefault(); // Prevent default form submission

                // Get form data
                const name = document.getElementById("name").value.trim();
                const email = document.getElementById("email").value.trim();
                const instagram = document.querySelector("input[name='cf-instagram']").value.trim() || "Not provided";

                // Validate required fields
                if (!name || !email) {
                    alert("Please enter your name and email!");
                    return;
                }

                // Create data object
                const formData = {
                    name: name,
                    email: email,
                    instagram: instagram
                };

                // Show processing state
                const submitButton = document.getElementById("submit-button");
                submitButton.disabled = true;
                submitButton.textContent = "Processing...";
                
                // Clear previous messages
                const formMessage = document.getElementById("form-message");
                formMessage.style.display = "none";

                // Send data to API Gateway
                fetch(`${API_URL}/register`, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(formData)
                })
                .then(response => response.json())
                .then(data => {
                    // Reset button
                    submitButton.disabled = false;
                    submitButton.textContent = "Submit";
                    
                    if (data.success) {
                        // Reset form after submission
                        signupForm.reset();

                        // Show success message
                        formMessage.innerHTML = "Thank you for signing up! You'll receive your free loops soon.";
                        formMessage.style.display = "block";
                        formMessage.style.color = "green";
                        
                        // Close the modal after 1 second
                        setTimeout(() => {
                            $('#membershipForm').modal('hide');
                            formMessage.style.display = "none";
                        }, 1000);
                    } else {
                        formMessage.innerHTML = data.message || "Something went wrong. Please try again.";
                        formMessage.style.display = "block";
                        formMessage.style.color = "red";
                    }
                })
                .catch(error => {
                    // Reset button
                    submitButton.disabled = false;
                    submitButton.textContent = "Submit";
                    
                    console.error("Error submitting form:", error);
                    formMessage.innerHTML = "Network error. Please try again.";
                    formMessage.style.display = "block";
                    formMessage.style.color = "red";
                });
            });
        }       
    });
    </script>
</body>
</html>
